# MinMPHash & MinMPLookup

> Mini Minimal Perfect Hash & Mini Minimal Perfect Lookup

[English README](./README.en.md)

TypeScript/JavaScript å¹³å°ä¸Šçš„æœ€å°å®Œç¾å“ˆå¸Œä¸æŸ¥æ‰¾å·¥å…·å®ç°ã€‚

`MinMPHash` å¯ä»¥æŠŠä¸€ç»„æ•°é‡ä¸º n çš„å­—ç¬¦ä¸²æ˜ å°„åˆ° `[0, n-1]` çš„æ•´æ•°èŒƒå›´å†…ï¼Œä¸”ä¸ä¼šæœ‰å†²çªã€‚

`MinMPLookup` åˆ™æ˜¯åœ¨ `MinMPHash` çš„åŸºç¡€ä¸Šå®ç°çš„æœ€å°å®Œç¾æŸ¥æ‰¾è¡¨å·¥å…·ã€‚

å®ƒå¯ä»¥æŠŠå½¢å¦‚ `{ key1: [value1, value2, ...], key2: [value3, value4, ...] }` çš„æ˜ å°„è¡¨æœ€å°åŒ–å­˜å‚¨ï¼Œä»è€Œå®ç°æ ¹æ® `value` æŸ¥æ‰¾å¯¹åº” `key` çš„éœ€æ±‚ã€‚

ç›¸æ¯”åŸæ ·å­˜å‚¨ï¼Œæœ€å°åŒ–çš„æŸ¥æ‰¾è¡¨å¯ä»¥å°†ä½“ç§¯ç¼©å°åˆ°åŸæ¥çš„ 10% ä»¥ä¸‹ï¼ˆå…·ä½“å‹ç¼©ç‡å–å†³äºæ•°æ®é›†ä¸­ values çš„ä¿¡æ¯ç†µï¼Œç†µè¶Šå¤§å‹ç¼©æ•ˆæœè¶Šå¥½ï¼‰ã€‚

## ä»€ä¹ˆæ˜¯æœ€å°å®Œç¾å“ˆå¸Œï¼Ÿ

å“ˆå¸Œå‡½æ•°å¯ä»¥æŠŠæ•°æ®æ˜ å°„åˆ°ä¸€ä¸ªèŒƒå›´å†…ï¼Œç”Ÿæˆå›ºå®šé•¿åº¦çš„â€œæŒ‡çº¹â€ã€‚ä½†æ™®é€šå“ˆå¸Œå‡½æ•°æœ‰ä¸¤ä¸ªå¸¸è§é—®é¢˜ï¼š

- ç¨€ç–æ€§å¯¼è‡´çš„ç©ºé—´æµªè´¹ï¼šå“ˆå¸Œå€¼åŸŸé€šå¸¸è¿œå¤§äºå®é™…æ•°æ®é‡ï¼Œå“ˆå¸Œè¡¨ä¼šéå¸¸ç¨€ç–ã€‚
- ä¸åŒè¾“å…¥å¯èƒ½äº§ç”Ÿå†²çªï¼šä¸åŒçš„è¾“å…¥å¯èƒ½æ˜ å°„åˆ°ç›¸åŒçš„å“ˆå¸Œå€¼ï¼Œä¸ºäº†é™ä½å†²çªç‡é€šå¸¸éœ€è¦æ›´é•¿çš„å“ˆå¸Œå€¼ï¼Œä»è€Œæµªè´¹ç©ºé—´ã€‚

æœ€å°å®Œç¾å“ˆå¸Œå‡½æ•°ï¼ˆMinimal Perfect Hash Functionï¼ŒMPHFï¼‰æ˜¯ä¸€ç±»ç‰¹æ®Šå“ˆå¸Œå‡½æ•°ï¼š

- å®ƒå¯¹ç»™å®šçš„ n ä¸ªä¸åŒè¾“å…¥ä¿è¯æ— å†²çªï¼›
- è¾“å‡ºèŒƒå›´æ°å¥½ä¸º `[0, n-1]`ï¼Œä½¿å¾—ç©ºé—´åˆ©ç”¨è¾¾åˆ°æœ€ä¼˜ã€‚

æ¢å¥è¯è¯´ï¼Œå¦‚æœä½ æœ‰ n ä¸ªä¸åŒçš„å­—ç¬¦ä¸²ï¼ŒMPHF ä¼šæŠŠå®ƒä»¬ä¸€ä¸€æ˜ å°„åˆ° `[0, n-1]` çš„æ•´æ•°èŒƒå›´å†…ï¼Œæ¯ä¸ªå­—ç¬¦ä¸²å¯¹åº”ä¸€ä¸ªå”¯ä¸€ç´¢å¼•ã€‚

```
    text set               Hash              Hash Table (Sparse)
  +----------+        +------------+        +-------------------+
  |  Apple   | ---->  |    h(x)    | ---->  | 0: [ Apple ]      |
  |  Banana  |        +------------+        | 1:                | <--- Gap
  |  Cherry  |                              | 2: [ Banana ]     |
  +----------+                              | 3:                | <--- Gap
                                            |       ...         | <--- Gap
                                            | 9: [ Cherry ]     |
                                            +-------------------+
                                              (Waste of Space)


    text set      ğŸ¤© Minimal Perfect Hash      Hash Table (Compact)
  +----------+        +--------------+        +-------------------+
  |  Apple   | ---->  |   mmph(x)    | ---->  | 0: [ Apple ]      |
  |  Banana  |        +--------------+        | 1: [ Banana ]     |
  |  Cherry  |                                | 2: [ Cherry ]     |
  +----------+                                +-------------------+
                                             ( 100% Space Utilization )

```

## ä»€ä¹ˆæ—¶å€™ä½¿ç”¨æœ€å°å®Œç¾å“ˆå¸Œï¼Ÿ

æœ€å°å®Œç¾å“ˆå¸Œé€‚ç”¨äºéœ€è¦å°†ä¸€ç»„ç¡®å®šæ€§çš„é”®ï¼ˆKeyï¼‰æ˜ å°„ä¸ºç´§å‡‘æ•´æ•°ç´¢å¼•çš„åœºæ™¯ã€‚ä¸æ™®é€šæ˜ å°„è¡¨ç›¸æ¯”ï¼Œä½¿ç”¨ MPHF å¯ä»¥çœå»å­˜å‚¨å®Œæ•´é”®çš„å¼€é”€ï¼šåªéœ€å­˜å‚¨é”®å¯¹åº”çš„æ•´æ•°ç´¢å¼•å³å¯å®ç°ç›¸åŒçš„æ˜ å°„åŠŸèƒ½ã€‚

æ¢è¨€ä¹‹ï¼Œåªè¦é”®åœ¨æ•°æ®é›†ä¸­æ˜¯ç¡®å®šçš„ï¼ˆä¸ä¼šå˜åŒ–ï¼‰ï¼Œæ— è®ºé”®æœ¬èº«æœ‰å¤šé•¿ï¼Œéƒ½å¯ä»¥ç”¨ä¸€ä¸ªåŸºäºæ•°æ®é›†å¤§å°çš„ `number` å­˜å‚¨å¹¶å”¯ä¸€æ ‡è¯†è¯¥é”®ï¼Œè€Œä¸ä¼šäº§ç”Ÿå†²çªã€‚

è¿™æ­£æ˜¯å¸¸è§å“ˆå¸Œï¼ˆå¦‚ MD5ã€SHA-1ï¼‰åšä¸åˆ°çš„ï¼šå®ƒä»¬äº§ç”Ÿçš„å“ˆå¸Œå€¼è¾ƒé•¿ï¼ˆå¦‚ MD5 ä¸º 16 å­—èŠ‚ã€SHA-1 ä¸º 20 å­—èŠ‚ï¼‰ï¼Œè€Œ MPHF èƒ½æ ¹æ®æ•°æ®é›†å¤§å°é€‰æ‹©æœ€å°çš„æ•´æ•°èŒƒå›´ï¼Œä»è€Œè¾¾åˆ°æ›´é«˜çš„ç©ºé—´åˆ©ç”¨ç‡ã€‚

ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œæœ‰ä¸€ç»„å­—ä½“åç§°åˆ—è¡¨ï¼Œè¦ä»æ ¹æ®å­—ä½“åæ˜ å°„åˆ°å­—ä½“çš„ç³»åˆ—å
ä¸€èˆ¬çš„æ–¹æ³•æ˜¯é€šè¿‡ä¸€ä¸ªæ˜ å°„è¡¨æ¥å®Œæˆè¿™ä¸€åˆ‡ï¼š

```js
let FontMap = {
  "Source Sans": "Source Sans",
  "Source Sans Black": "Source Sans",
  "Source Sans Bold": "Source Sans",
  "æ€æºé»‘ä½“ CN ExtraLight": "Source Sans",
  "æ€æºé»‘ä½“ TW Light": "Source Sans",
  // ... 6000+
};

let query = "æ€æºé»‘ä½“ TW Light";
let found = FontMap[query]; // 'Source Sans'
```

è¿™æ ·çš„æ˜ å°„è¡¨éœ€è¦å­˜å‚¨æ‰€æœ‰çš„é”®ï¼ˆå¦‚å­—ä½“åç§°ï¼‰ï¼Œå½“é”®æ•°é‡è¾ƒå¤šæ—¶ä¼šéå¸¸å ç©ºé—´ã€‚ä½¿ç”¨æœ€å°å®Œç¾å“ˆå¸Œåï¼Œæˆ‘ä»¬å¯ä»¥åªå­˜å‚¨å­—ä½“åç§°å¯¹åº”çš„ç´¢å¼•ï¼ˆå“ˆå¸Œå€¼ï¼‰ï¼Œè€Œä¸æ˜¯å®Œæ•´åç§°ï¼š

```js
// åˆ›å»ºåŒ…å«æ‰€æœ‰å­—ä½“åç§°çš„é›†åˆ
let values = [
  "Source Sans",
  "Source Sans Black",
  "Source Sans Bold",
  "æ€æºé»‘ä½“ CN ExtraLight",
  "æ€æºé»‘ä½“ TW Light",
  // ... 6000+
];

// æ ¹æ® values åˆ›å»ºæœ€å°å®Œç¾å“ˆå¸Œå­—å…¸
let dict = createMinMPHashDict(values);
// æ ¹æ®å­—å…¸åˆ›å»ºå“ˆå¸Œå‡½æ•°å®ä¾‹
let minHash = new MinMPHash(dict);

// ç„¶åæˆ‘ä»¬ä½¿ç”¨å“ˆå¸Œå€¼æ¥ä»£æ›¿å®Œæ•´çš„å­—ä½“åç§°ï¼š
let FontMapWithHash = {
  "Source Sans": [1, 2, 3, 21 /* ... */],
  Heiti: [12, 12 /* ... */],
  "JetBrains Mono": [32, 112 /* ... */],
  // ...
};

// æŸ¥è¯¢æ—¶ï¼Œå…ˆè®¡ç®—å“ˆå¸Œå€¼ï¼Œå†é€šè¿‡å“ˆå¸Œå€¼æŸ¥æ‰¾å¯¹åº”çš„å­—ä½“ç³»åˆ—å
let query = "æ€æºé»‘ä½“ TW Light";
let query_hash = minHash.hash(query, dict); // e.g. 42

let found = Object.entries(FontMapWithHash).find(([family, hashes]) =>
  hashes.includes(query_hash)
)[0]; // 'Source Sans'
```

è¿™æ ·å¯ä»¥æ˜¾è‘—å‡å°‘å­˜å‚¨ç©ºé—´ï¼Œå› ä¸ºä¸å†éœ€è¦ä¿å­˜å®Œæ•´çš„é”®æ–‡æœ¬ï¼Œåªéœ€ä¿å­˜æ›´çŸ­çš„æ•´æ•°ç´¢å¼•ã€‚

ä½ å¯èƒ½ä¼šæƒ³åˆ° MD5 æˆ– SHA-1 ä¹‹ç±»çš„å“ˆå¸Œå‡½æ•°ä¹Ÿèƒ½ç”Ÿæˆæ ‡è¯†ï¼Œä½†å®ƒä»¬çš„å“ˆå¸Œå€¼è¾ƒé•¿ï¼ˆå¦‚ MD5 ä¸º 16 å­—èŠ‚ã€SHA-1 ä¸º 20 å­—èŠ‚ï¼‰ã€‚FNV-1a åœ¨æŸäº›åœºæ™¯ä¸‹å¯ç”¨åˆ°æœ€å°‘ 4 å­—èŠ‚ï¼Œä½†å…¶å†²çªç‡è¾ƒé«˜ã€‚æœ€å°å®Œç¾å“ˆå¸Œå¯æ ¹æ®æ•°æ®é›†å¤§å°é€‰æ‹©æœ€å°èŒƒå›´ï¼Œä¿è¯æ— å†²çªå¹¶å®ç°æè‡´çš„ç©ºé—´åˆ©ç”¨ã€‚

## ä½¿ç”¨æ–¹æ³•

### å®‰è£…

```bash
npm install min-mphash
```

### MinMPHash æœ€å°å®Œç¾å“ˆå¸Œçš„ä½¿ç”¨

è¿™æ˜¯æœ€æ ¸å¿ƒçš„åŠŸèƒ½ï¼Œç”¨äºå°†ä¸€ç»„å­—ç¬¦ä¸²æ˜ å°„åˆ° `[0, n-1]` çš„æ•´æ•°ã€‚

#### æ­¥éª¤ 1: åˆ›å»ºå­—å…¸ (æ„å»ºæ—¶)

åœ¨ä½ çš„æ„å»ºè„šæœ¬æˆ–æœåŠ¡ç«¯ä»£ç ä¸­ï¼Œç”Ÿæˆå“ˆå¸Œå­—å…¸ã€‚

```typescript
import { createMinMPHashDict } from "min-mphash";
import * as fs from "fs";

// ç¤ºä¾‹å­—ç¬¦ä¸²é›†åˆ
const mySet = ["Apple", "Banana", "Cherry", "Date", "Elderberry"];

// åˆ›å»ºå­—å…¸äºŒè¿›åˆ¶æ•°æ®
// outputBinary: true è¿”å› Uint8Arrayï¼Œé€‚åˆå­˜å‚¨æˆ–ç½‘ç»œä¼ è¾“
const dictBuffer = createMinMPHashDict(mySet, {
  outputBinary: true,
  level: 5, // ä¼˜åŒ–çº§åˆ« [1-10]ï¼Œè¶Šé«˜ä½“ç§¯è¶Šå°ä½†æ„å»ºè¶Šæ…¢
});

fs.writeFileSync("mph-dict.bin", dictBuffer);
```

#### æ­¥éª¤ 2: ä½¿ç”¨å­—å…¸ç”Ÿæˆå“ˆå¸Œå€¼ (è¿è¡Œæ—¶)

åœ¨ä½ çš„åº”ç”¨ï¼ˆå¦‚æµè§ˆå™¨ç«¯ï¼‰åŠ è½½å­—å…¸å¹¶è¿›è¡Œå“ˆå¸ŒæŸ¥è¯¢ã€‚

```typescript
import { MinMPHash } from "min-mphash";

// å‡è®¾ä½ å·²ç»åŠ è½½äº†äºŒè¿›åˆ¶æ•°æ®
const dictBuffer = await fetch("mph-dict.bin").then((res) => res.arrayBuffer());
const dict = new Uint8Array(dictBuffer);

const mph = new MinMPHash(dict);

console.log(mph.hash("Apple")); // 0 (æˆ–å…¶ä»– 0-4 ä¹‹é—´çš„å”¯ä¸€å€¼)
console.log(mph.hash("Banana")); // 2
console.log(mph.hash("Cherry")); // 4

// æ³¨æ„ï¼šå¯¹äºä¸åœ¨é›†åˆä¸­çš„å­—ç¬¦ä¸²ï¼Œå®ƒä¹Ÿä¼šè¿”å›ä¸€ä¸ª [0, n-1] çš„å€¼ï¼ˆè¿™æ˜¯ MPHF çš„ç‰¹æ€§ï¼‰ï¼Œ
// é™¤éä½ å¯ç”¨äº†**æ ¡éªŒæ¨¡å¼**ï¼ˆè§ä¸‹æ–‡ï¼‰ã€‚
console.log(mph.hash("sdfsd94jx#*")); // å¯èƒ½è¿”å› 1
```

#### æ ¡éªŒæ¨¡å¼ `onlySet`

æ ‡å‡†çš„æœ€å°å®Œç¾å“ˆå¸Œå‡½æ•°å¯¹äº**ä¸åœ¨é›†åˆä¸­**çš„è¾“å…¥ä¹Ÿä¼šè¿”å›ä¸€ä¸ª `[0, n-1]` èŒƒå›´å†…çš„ç´¢å¼•ï¼ˆè¿™å±äº MPHF çš„æ€§è´¨ï¼‰ã€‚å¦‚æœä½ çš„åº”ç”¨éœ€è¦æŠŠé›†åˆå¤–çš„æŸ¥è¯¢è¯†åˆ«ä¸ºâ€œæœªå‘½ä¸­â€ï¼Œå¯ä»¥åœ¨åˆ›å»ºå­—å…¸æ—¶å¯ç”¨æ ¡éªŒæ¨¡å¼ `onlySet`ã€‚

`onlySet` ä¼šä»¥é¢å¤–ç©ºé—´ä¸ºä»£ä»·å­˜å‚¨æ¯ä¸ªé”®çš„æŒ‡çº¹ï¼ˆfingerprintï¼‰ï¼ŒæŸ¥è¯¢æ—¶ä¼šæ ¡éªŒæŒ‡çº¹ï¼šè‹¥æ ¡éªŒå¤±è´¥åˆ™è¿”å› `-1` è¡¨ç¤ºæœªå‘½ä¸­ã€‚

```typescript
let dict = createMinMPHashDict(mySet, { onlySet: "8" });
```

| onlySet | ç©ºé—´å ç”¨ï¼ˆæ¯ keyï¼‰ | è¯¯åˆ¤ç‡       |
| ------- | ------------------ | ------------ |
| 2       | 0.25 byte          | ~25%         |
| 4       | 0.5 byte           | ~6.25%       |
| 8       | 1 byte             | ~0.39%       |
| 16      | 2 bytes            | ~0.0015%     |
| 32      | 4 bytes            | ~0.00000002% |

æ³¨ï¼šè¡¨ä¸­â€œè¯¯åˆ¤ç‡â€æŒ‡çš„æ˜¯å¯¹äºä¸åœ¨é›†åˆä¸­çš„è¾“å…¥ï¼Œè¢«é”™è¯¯åˆ¤å®šä¸ºåœ¨é›†åˆä¸­çš„æ¦‚ç‡ï¼›å¦‚æœé”®ç¡®å®åœ¨é›†åˆä¸­ï¼Œæ ¡éªŒæ€»æ˜¯æˆåŠŸã€‚

#### å­—å…¸æ ¼å¼ï¼šJSON/CBOR/CBOR.Gzip

`createMinMPHashDict` å¯ä»¥è¾“å‡ºå¤šç§æ ¼å¼çš„å­—å…¸ï¼š

- **äºŒè¿›åˆ¶**  
  `{ outputBinary: true }`  
  è¿”å› CBOR `Uint8Array`
- **å‹ç¼©äºŒè¿›åˆ¶**  
  `{ outputBinary: true, enableCompression: true}`  
   Gzip å‹ç¼©åçš„ CBOR `Uint8Array`
- **JSON**  
  `é»˜è®¤`  
   JavaScript å¯¹è±¡ï¼Œé€‚åˆè°ƒè¯•å’ŒæŸ¥çœ‹ã€‚

é€šå¸¸æ¥è¯´ï¼Œæ¨èä½¿ç”¨å‹ç¼©äºŒè¿›åˆ¶æ ¼å¼ï¼Œä½“ç§¯æœ€å°ï¼Œ
ä½† JSON å¼€å‘æ—¶æ¯”è¾ƒæ–¹ä¾¿ï¼Œå¦‚æœæœåŠ¡å™¨/CDN æ”¯æŒé€æ˜å‹ç¼©ï¼Œ
å¯ä»¥ç›´æ¥ä½¿ç”¨ JSON æ ¼å¼ï¼Œæœ€ç»ˆä½“ç§¯ç›¸å·®ä¸å¤§ã€‚

## MinMPLookup æœ€å°å®Œç¾æŸ¥æ‰¾è¡¨çš„ä½¿ç”¨

å¦‚æœä½ æœ‰ä¸€ä¸ª `Value -> Key` çš„æŸ¥æ‰¾éœ€æ±‚ï¼ˆä¾‹å¦‚ï¼šæ ¹æ®`å­—ä½“æ–‡ä»¶å`æŸ¥æ‰¾`å­—ä½“å®¶æ—å`ï¼Œæˆ–è€…æ ¹æ®`åŸå¸‚`æŸ¥æ‰¾`å›½å®¶`ï¼‰ï¼Œä¸”æ•°æ®é‡è¾ƒå¤§ï¼Œå¯ä»¥ä½¿ç”¨ `MinMPLookup`ã€‚å®ƒåˆ©ç”¨ MPHF å’Œå·®åˆ†ç¼–ç æå¤§åœ°å‹ç¼©äº†æ˜ å°„å…³ç³»ã€‚

### åœºæ™¯

å‡è®¾ä½ æœ‰ä»¥ä¸‹æ˜ å°„ï¼š

```js
const lookupMap = {
  China: ["Beijing", "Shanghai", "Guangzhou"],
  USA: ["New York", "Los Angeles"],
  Japan: ["Tokyo"],
};
// ç›®æ ‡ï¼šè¾“å…¥ "Shanghai" -> å¾—åˆ° "China"
```

### åˆ›å»ºæŸ¥æ‰¾å­—å…¸

```typescript
import { createMinMPLookupDict } from "min-mphash";

const lookupMap = {
  China: ["Beijing", "Shanghai", "Guangzhou"],
  USA: ["New York", "Los Angeles"],
  Japan: ["Tokyo"],
};

// ç”Ÿæˆå‹ç¼©åçš„äºŒè¿›åˆ¶å­—å…¸
const lookupDictBin = createMinMPLookupDict(lookupMap, {
  outputBinary: true,
  enableCompression: true, // å¯ç”¨å†…ç½® Gzip å‹ç¼© (ä»… Node/Bun ç¯å¢ƒæˆ–æ”¯æŒ CompressionStream çš„æµè§ˆå™¨)
});

// ä¿å­˜åˆ°æ–‡ä»¶
// fs.writeFileSync("lookup.bin", lookupDictBin);
```

### æŸ¥è¯¢

```typescript
import { MinMPLookup } from "min-mphash";

// åŠ è½½å­—å…¸
const lookup = await MinMPLookup.fromCompressed(lookupDictBin);
// å¦‚æœæ²¡æœ‰å¼€å¯ enableCompressionï¼Œä½¿ç”¨ MinMPLookup.fromBinary(bin)

console.log(lookup.query("Shanghai")); // "China"
console.log(lookup.queryAll("New York")); // ["USA"]
console.log(lookup.query("Unknown City")); // null
console.log(lookup.keys()); // ["China", "USA", "Japan"]
```

### æ ¡éªŒæ¨¡å¼ `onlySet`

æ ‡å‡†çš„æœ€å°å®Œç¾å“ˆå¸Œå‡½æ•°å¯¹äº**ä¸åœ¨é›†åˆä¸­**çš„è¾“å…¥ï¼Œä¹Ÿä¼šè¿”å›ä¸€ä¸ªèŒƒå›´å†…çš„ç´¢å¼•ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ`MinMPHash` æ”¯æŒå†…ç½®æ ¡éªŒæ¨¡å¼ï¼Œç¡®ä¿è®©é›†åˆå¤–çš„æŸ¥æ‰¾è¿”å› `null`ã€‚

```ts
const lookupDictBin = createMinMPLookupDict(lookupMap, {
  onlySet: "8", // å¯ç”¨ 8-bit æ ¡éªŒæ¨¡å¼
});
```

## Benchmark

### MinMPHash å­—å…¸ä½“ç§¯æµ‹è¯•ç»“æœ

```

=== MinMPHash Big Dataset Size Benchmark ===
Generating dataset of size 1000000...
Dataset size: 1000000 items

Dataset json size:        41836.25 KB
Dataset json gzip size:   6473.48 KB

â¤ Optimization Level 5
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ OnlySet  â”‚ JSON Size    â”‚ Binary Size (Ratio)  â”‚ Gzip Size (Ratio)    â”‚ vs None      â”‚ Build Time   â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ none     â”‚    979.18 KB â”‚  341.37 KB ( 35%)    â”‚  268.36 KB ( 27%)    â”‚      100.0 % â”‚   2502.35 ms â”‚
  â”‚ 2        â”‚   1849.51 KB â”‚  585.38 KB ( 32%)    â”‚  512.86 KB ( 28%)    â”‚      171.5 % â”‚   2981.46 ms â”‚
  â”‚ 4        â”‚   2721.75 KB â”‚  829.94 KB ( 30%)    â”‚  757.49 KB ( 28%)    â”‚      243.1 % â”‚   3109.38 ms â”‚
  â”‚ 8        â”‚   4465.27 KB â”‚ 1318.06 KB ( 30%)    â”‚ 1245.64 KB ( 28%)    â”‚      386.1 % â”‚   3132.11 ms â”‚
  â”‚ 16       â”‚   6672.22 KB â”‚ 2293.96 KB ( 34%)    â”‚ 2222.43 KB ( 33%)    â”‚      672.0 % â”‚   3559.02 ms â”‚
  â”‚ 32       â”‚  11468.63 KB â”‚ 4247.06 KB ( 37%)    â”‚ 4176.07 KB ( 36%)    â”‚     1244.1 % â”‚   2900.32 ms â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

### MinMPLookup å­—å…¸ä½“ç§¯æµ‹è¯•ç»“æœ

```

=== MinMPLookup Big Dataset Size Benchmark ===
Generating dataset of size 100000 values...
Dataset stats: 5000 keys, 100000 values

Dataset json size:        7577.04 KB
Dataset json gzip size:   5141.74 KB

â¤ Optimization Level 5
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ OnlySet  â”‚ JSON Size    â”‚ Binary Size (Ratio)  â”‚ Gzip Size (Ratio)    â”‚ vs None      â”‚ Build Time   â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ none     â”‚    709.67 KB â”‚  254.85 KB ( 36%)    â”‚  199.59 KB ( 28%)    â”‚      100.0 % â”‚    412.65 ms â”‚
  â”‚ 2        â”‚    797.00 KB â”‚  279.23 KB ( 35%)    â”‚  225.14 KB ( 28%)    â”‚      109.6 % â”‚    393.94 ms â”‚
  â”‚ 4        â”‚    884.32 KB â”‚  303.63 KB ( 34%)    â”‚  248.92 KB ( 28%)    â”‚      119.1 % â”‚    408.93 ms â”‚
  â”‚ 8        â”‚   1058.92 KB â”‚  352.48 KB ( 33%)    â”‚  297.58 KB ( 28%)    â”‚      138.3 % â”‚    477.32 ms â”‚
  â”‚ 16       â”‚   1406.98 KB â”‚  450.21 KB ( 32%)    â”‚  395.21 KB ( 28%)    â”‚      176.7 % â”‚    421.70 ms â”‚
  â”‚ 32       â”‚   2104.73 KB â”‚  645.45 KB ( 31%)    â”‚  591.02 KB ( 28%)    â”‚      253.3 % â”‚    374.06 ms â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
