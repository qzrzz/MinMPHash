# MinMPHash & MinMPLookup

> Mini Minimal Perfect Hash & Mini Minimal Perfect Lookup

`MinMPHash` å¯ä»¥æŠŠä¸€ç»„æ•°é‡ n çš„å­—ç¬¦ä¸²æ˜ å°„åˆ° `[0, n-1]` çš„æ•´æ•°èŒƒå›´å†…ï¼Œä¸”ä¸ä¼šæœ‰å†²çª

> å‘ç° JavaScript/TypeScript å¹³å°ä¸Šç¼ºä¹èƒ½ç”¨çš„æœ€å°å®Œç¾å“ˆå¸Œå®ç°ï¼Œäºæ˜¯è‡ªå·±åŠ¨æ‰‹å†™äº†ä¸€ä¸ª CHD çš„ç®€å•å®ç°
> æ²¡æœ‰ç‰¹åˆ«ä¸¥è°¨ï¼Œä½†æ˜¯èƒ½ç”¨ ğŸ˜„

`MinMPLookup` åˆ™æ˜¯åœ¨ `MinMPHash` çš„åŸºç¡€ä¸Šå®ç°çš„æœ€å°å®Œç¾æŸ¥æ‰¾è¡¨å·¥å…·

å®ƒå¯ä»¥æŠŠ `{ key1: [value1, value2, ...], key2: [value3, value4, ...] }` çš„è¿™æ ·çš„æ˜ å°„è¡¨æœ€å°åŒ–å­˜å‚¨ï¼Œå®ç°æ ¹æ® `value` æŸ¥æ‰¾å¯¹åº”çš„ `key` çš„éœ€æ±‚ã€‚

ç›¸æ¯”åŸæ ·å­˜å‚¨ï¼Œæœ€å°åŒ–çš„æŸ¥æ‰¾è¡¨å¯ä»¥å°†ä½“ç§¯ç¼©å°åˆ°åŸæ¥çš„ 10% ä»¥ä¸‹ï¼ˆæ ¹æ®æ•°æ®é›†ï¼ˆvaluesï¼‰çš„ä¿¡æ¯ç†µå†³å®šï¼Œvalues ç†µè¶Šå¤§ï¼Œå‹ç¼©æ•ˆæœè¶Šå¥½ï¼‰

## ä»€ä¹ˆæ˜¯æœ€å°å®Œç¾å“ˆå¸Œï¼Ÿ

å¦‚æœä½ çŸ¥é“å“ˆå¸Œå‡½æ•°ï¼Œé‚£ä½ è‚¯åœ°èƒ½ç†è§£å“ˆå¸Œå‡½æ•°å¯ä»¥æŠŠæ•°æ®æ˜ å°„åˆ°ä¸€ä¸ªèŒƒå›´å†…ï¼Œä¹Ÿå°±æ˜¯ç”Ÿæˆå›ºå®šé•¿åº¦çš„â€œæŒ‡çº¹â€ï¼Œä½†æ˜¯æ™®é€šå“ˆå¸Œå‡½æ•°æœ‰ 2 ä¸ªé—®é¢˜ï¼š

- ç¨€ç–æ€§å¯¼è‡´çš„ç©ºé—´æµªè´¹ï¼šå“ˆå¸Œå€¼åŸŸé€šå¸¸è¿œå¤§äºå®é™…æ•°æ®é‡ï¼Œå“ˆå¸Œè¡¨ç©ºé—´æå…¶ç¨€ç–ã€‚
- ä¸åŒè¾“å…¥å¯èƒ½ç¢°æ’ï¼šä¸åŒçš„è¾“å…¥å¯èƒ½ä¼šæ˜ å°„åˆ°ç›¸åŒçš„å“ˆå¸Œå€¼ï¼Œå¯¼è‡´å†²çª ï¼Œä¸ºäº†é¿å…å‡å°å†²çªçš„å¯èƒ½ï¼Œéœ€è¦æ›´é•¿çš„å“ˆå¸Œå€¼ï¼Œè¿›ä¸€æ­¥æµªè´¹ç©ºé—´

è€Œæœ€å°å®Œç¾å“ˆå¸Œå‡½æ•°åˆ™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å“ˆå¸Œå‡½æ•°ï¼Œå®ƒèƒ½ç¡®ä¿æ²¡æœ‰å†²çªï¼Œå¹¶ä¸”è¾“å‡ºèŒƒå›´æ­£å¥½ç­‰äºè¾“å…¥æ•°æ®çš„æ•°é‡

ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ æœ‰ n ä¸ªä¸åŒçš„å­—ç¬¦ä¸²ï¼Œæœ€å°å®Œç¾å“ˆå¸Œå‡½æ•°ä¼šæŠŠå®ƒä»¬æ˜ å°„åˆ° `[0, n-1]` çš„æ•´æ•°èŒƒå›´å†…ï¼Œæ¯ä¸ªå­—ç¬¦ä¸²éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ•´æ•°ç´¢å¼•

```
    text set               Hash              Hash Table (Sparse)
  +----------+        +------------+        +-------------------+
  |  Apple   | ---->  |    h(x)    | ---->  | 0: [ Apple ]      |
  |  Banana  |        +------------+        | 1:                | <--- Gap
  |  Cherry  |                              | 2: [ Banana ]     |
  +----------+                              | 3:                | <--- Gap
                                            |       ...         | <--- Gap
                                            | 9: [ Cherry ]     |
                                            +-------------------+
                                              (Waste of Space)


    text set      ğŸ¤© Minimal Perfect Hash      Hash Table (Compact)
  +----------+        +--------------+        +-------------------+
  |  Apple   | ---->  |   mmph(x)    | ---->  | 0: [ Apple ]      |
  |  Banana  |        +--------------+        | 1: [ Banana ]     |
  |  Cherry  |                                | 2: [ Cherry ]     |
  +----------+                                +-------------------+
                                             ( 100% Space Utilization )


```

## ä»€ä¹ˆæ—¶å€™ä½¿ç”¨æœ€å°å®Œç¾å“ˆå¸Œï¼Ÿ

ä½ çœ‹åˆ°äº†æœ€å°å®Œç¾å“ˆå¸Œå¯ä»¥æŠŠä¸€ç»„å­—ç¬¦ä¸²æ˜ å°„åˆ°ä¸€ä¸ªç´§å‡‘çš„æ•´æ•°èŒƒå›´å†…ï¼Œæ²¡æœ‰å†²çªï¼Œè¿™å°±åƒæ˜¯
ä¸€ä¸ªæ˜ å°„è¡¨ï¼ˆMapï¼‰ï¼Œä½†æ˜¯ä¸€ä¸ªæ™®é€šçš„æ˜ å°„è¡¨ï¼ˆMapï¼‰éœ€è¦å­˜å‚¨å®Œæ•´çš„é”®ï¼ˆKeyï¼‰å’Œå€¼ï¼ˆValueï¼‰ï¼Œè€Œä½¿ç”¨æœ€å°å®Œç¾å“ˆå¸Œç›¸å½“äºä¸éœ€è¦å­˜å‚¨å®Œæ•´çš„å€¼ï¼ˆValueï¼‰ï¼Œåªéœ€è¦å­˜å‚¨å€¼ï¼ˆValueï¼‰çš„å“ˆå¸Œå€¼ï¼Œå°±å¯ä»¥ç­‰ä»·åœ°å®ç°é”®å€¼æ˜ å°„ã€‚

æœ€å¥½ä¸è¿‡çš„æ˜¯ï¼Œåªè¦å€¼ï¼ˆValueï¼‰æ˜¯ç¡®å®šæ€§çš„ï¼ˆåœ¨æ•°æ®é›†å†…ï¼‰ï¼Œæ— è®ºå¤šé•¿éƒ½å¯ä»¥ç”¨ä¸€ä¸ª `number`ï¼ˆæ ¹æ®æ•°æ®é›†æ•°é‡ï¼‰æ¥å­˜å‚¨ï¼Œå¹¶ä¸”æ˜¯å”¯ä¸€çš„ä¸ä¼šæœ‰å†²çªã€‚

è¿™æ˜¯æ™®é€šå“ˆå¸Œå‡½æ•°ï¼ˆMD5ã€SHA-1 ç­‰ï¼‰æ— æ³•åšåˆ°çš„ï¼Œå¹¶ä¸”å®ƒä»¬éå¸¸é•¿ï¼Œæ¯”å¦‚ MD5 è¦ 16 å­—èŠ‚ï¼ŒSHA-1 è¦ 20 å­—èŠ‚ï¼Œè€Œæœ€å°å®Œç¾å“ˆå¸Œåªéœ€è¦æ ¹æ®æ•°æ®é›†çš„æ•°é‡æ¥å†³å®šå­˜å‚¨å¤šå¤§çš„æ•´æ•°ã€‚

ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œæœ‰ä¸€ç»„å­—ä½“åç§°åˆ—è¡¨ï¼Œè¦ä»æ ¹æ®å­—ä½“åæ˜ å°„åˆ°å­—ä½“çš„ç³»åˆ—å
ä¸€èˆ¬çš„æ–¹æ³•æ˜¯é€šè¿‡ä¸€ä¸ªæ˜ å°„è¡¨æ¥å®Œæˆè¿™ä¸€åˆ‡ï¼š

```js
let FontMap = {
  "Source Sans ": "Source Sans",
  "Source Sans Black": "Source Sans",
  "Source Sans Bold": "Source Sans",
  "æ€æºé»‘ä½“ CN ExtraLight": "Source Sans",
  "æ€æºé»‘ä½“ TW Light": "Source Sans",
  // ... 6000+
};

let query = "æ€æºé»‘ä½“ TW Light";
let found = FontMap[query]; // 'Source Sans'
```

è¿™æ ·çš„æ˜ å°„è¡¨éœ€è¦å­˜å‚¨æ‰€æœ‰çš„é”®ï¼ˆå­—ä½“åç§°ï¼‰ï¼Œå­—ä½“åç§°æ˜ å°„è¡¨ä¼šéå¸¸å¤§ï¼Œ
ä½†ä½¿ç”¨æœ€å°å®Œç¾å“ˆå¸Œï¼Œæˆ‘ä»¬å¯ä»¥åªå­˜å‚¨å­—ä½“åç§°çš„å“ˆå¸Œå€¼ï¼Œè€Œä¸æ˜¯å®Œæ•´çš„åç§°ï¼š

```js
// æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåŒ…å«æ‰€æœ‰å­—ä½“åç§°çš„é›†åˆ
let values = [
  "Source Sans ",
  "Source Sans Black",
  "Source Sans Bold",
  "æ€æºé»‘ä½“ CN ExtraLight",
  "æ€æºé»‘ä½“ TW Light",
  // ... 6000+
];

// æ ¹æ® valuse åˆ›å»ºæœ€å°å®Œç¾å“ˆå¸Œå­—å…¸
let dict = createMinMPHashDict(values);
// æ ¹æ®å­—å…¸åˆ›å»ºå“ˆå¸Œå‡½æ•°å®ä¾‹
let minHash = new MinMPHash(dict);

// ...
// ç„¶åæˆ‘ä»¬ä½¿ç”¨å“ˆå¸Œå€¼æ¥ä»£æ›¿å®Œæ•´çš„å­—ä½“åç§°ï¼š
let FontMapWithHash = {
  "Source Sans": [1, 2, 3, 21 /* ... */],
  Heiti: [12, 12 /* ... */],
  "JetBrains Mono": [32, 112 /* ... */],
  // ...
};

// æŸ¥è¯¢æ—¶ï¼Œå…ˆè®¡ç®—å“ˆå¸Œå€¼ï¼Œå†é€šè¿‡å“ˆå¸Œå€¼æŸ¥æ‰¾å¯¹åº”çš„å­—ä½“ç³»åˆ—å
let query = "æ€æºé»‘ä½“ TW Light";
let query_hash = minHash.hash(query, dict); // 42

let found = Object.entries(FontMapWithHash).find(([family, hashes]) =>
  hashes.includes(query_hash)
)[0]; // 'Source Sans'
```

è¿™æ ·æˆ‘ä»¬å¯ä»¥å¤§å¤§å‡å°‘å­˜å‚¨ç©ºé—´ï¼Œå› ä¸ºæˆ‘ä»¬ä¸éœ€è¦å­˜å‚¨å®Œæ•´çš„å­—ä½“åç§°ï¼Œåªéœ€è¦å­˜å‚¨å“ˆå¸Œå€¼ã€‚

> ä½ å¯èƒ½ä¼šæƒ³åˆ° MD5 æˆ– SHA-1 ä¹‹ç±»çš„å“ˆå¸Œå‡½æ•°ï¼Œä¹Ÿå¯ä»¥åšåˆ°ç±»ä¼¼çš„æ•ˆæœï¼Œä½†å®ƒä»¬ç”Ÿæˆçš„å“ˆå¸Œå€¼éå¸¸é•¿ï¼ˆ16 å­—èŠ‚æˆ– 20 å­—èŠ‚ï¼‰  
> FNV-1a å¯ä»¥æœ€å° 4 å­—èŠ‚ï¼Œä½†æ­¤æ—¶å†²çªç‡ä¼šéå¸¸é«˜ï¼Œè€Œæœ€å°å®Œç¾å“ˆå¸Œå¯ä»¥æ ¹æ®æ•°æ®é›†çš„å¤§å°åŠ¨æ€è°ƒæ•´å“ˆå¸Œå€¼çš„é•¿åº¦ï¼Œå¹¶ä¸”å§‹ç»ˆæ˜¯æé™å€¼ï¼Œæ²¡æœ‰ç©ºé—´æµªè´¹å’Œå†²çª

## å¦‚ä½•ä½¿ç”¨ MinMPHash åº“ï¼Ÿ

### å®‰è£…

```bash
npm install min-mphash
```

### æœ€å°å®Œç¾å“ˆå¸Œ (MinMPHash)

è¿™æ˜¯æœ€æ ¸å¿ƒçš„åŠŸèƒ½ï¼Œç”¨äºå°†ä¸€ç»„å­—ç¬¦ä¸²æ˜ å°„åˆ° `[0, n-1]` çš„æ•´æ•°ã€‚

#### æ­¥éª¤ 1: åˆ›å»ºå­—å…¸ (æ„å»ºæ—¶)

åœ¨ä½ çš„æ„å»ºè„šæœ¬æˆ–æœåŠ¡ç«¯ä»£ç ä¸­ï¼Œç”Ÿæˆå“ˆå¸Œå­—å…¸ã€‚

```typescript
import { createMinMPHashDict } from "min-mphash";
import * as fs from "fs";

const mySet = ["Apple", "Banana", "Cherry", "Date", "Elderberry"];

// åˆ›å»ºå­—å…¸äºŒè¿›åˆ¶æ•°æ®
// outputBinary: true è¿”å› Uint8Arrayï¼Œé€‚åˆå­˜å‚¨æˆ–ç½‘ç»œä¼ è¾“
const dictBuffer = createMinMPHashDict(mySet, {
  outputBinary: true,
  level: 5, // ä¼˜åŒ–çº§åˆ« [1-10]ï¼Œè¶Šé«˜ä½“ç§¯è¶Šå°ä½†æ„å»ºè¶Šæ…¢
});

fs.writeFileSync("mph-dict.bin", dictBuffer);
```

#### æ­¥éª¤ 2: ä½¿ç”¨å­—å…¸ç”Ÿæˆå“ˆå¸Œå€¼ (è¿è¡Œæ—¶)

åœ¨ä½ çš„åº”ç”¨ï¼ˆå¦‚æµè§ˆå™¨ç«¯ï¼‰åŠ è½½å­—å…¸å¹¶è¿›è¡Œå“ˆå¸ŒæŸ¥è¯¢ã€‚

```typescript
import { MinMPHash } from "min-mphash";

// å‡è®¾ä½ å·²ç»åŠ è½½äº†äºŒè¿›åˆ¶æ•°æ®
const dictBuffer = await fetch("mph-dict.bin").then((res) => res.arrayBuffer());
const dict = new Uint8Array(dictBuffer);

const mph = new MinMPHash(dict);

console.log(mph.hash("Apple")); // 0 (æˆ–å…¶ä»– 0-4 ä¹‹é—´çš„å”¯ä¸€å€¼)
console.log(mph.hash("Banana")); // 2
console.log(mph.hash("Cherry")); // 4

// æ³¨æ„ï¼šå¯¹äºä¸åœ¨é›†åˆä¸­çš„å­—ç¬¦ä¸²ï¼Œå®ƒä¹Ÿä¼šè¿”å›ä¸€ä¸ª [0, n-1] çš„å€¼ï¼ˆè¿™æ˜¯ MPHF çš„ç‰¹æ€§ï¼‰ï¼Œ
// é™¤éä½ å¯ç”¨äº†**æ ¡éªŒæ¨¡å¼**ï¼ˆè§ä¸‹æ–‡ï¼‰ã€‚
console.log(mph.hash("sdfsd94jx#*")); // å¯èƒ½è¿”å› 1
```

## MinMPLookup æœ€å°å®Œç¾æŸ¥æ‰¾è¡¨

å¦‚æœä½ æœ‰ä¸€ä¸ª `Value -> Key` çš„æŸ¥æ‰¾éœ€æ±‚ï¼ˆä¾‹å¦‚ï¼šæ ¹æ®`å­—ä½“æ–‡ä»¶å`æŸ¥æ‰¾`å­—ä½“å®¶æ—å`ï¼Œæˆ–è€…æ ¹æ®`åŸå¸‚`æŸ¥æ‰¾`å›½å®¶`ï¼‰ï¼Œä¸”æ•°æ®é‡è¾ƒå¤§ï¼Œå¯ä»¥ä½¿ç”¨ `MinMPLookup`ã€‚å®ƒåˆ©ç”¨ MPHF å’Œå·®åˆ†ç¼–ç æå¤§åœ°å‹ç¼©äº†æ˜ å°„å…³ç³»ã€‚

### åœºæ™¯

å‡è®¾ä½ æœ‰ä»¥ä¸‹æ˜ å°„ï¼š

```js
const lookupMap = {
  China: ["Beijing", "Shanghai", "Guangzhou"],
  USA: ["New York", "Los Angeles"],
  Japan: ["Tokyo"],
};
// ç›®æ ‡ï¼šè¾“å…¥ "Shanghai" -> å¾—åˆ° "China"
```

### åˆ›å»ºæŸ¥æ‰¾å­—å…¸

```typescript
import { createMinMPLookupDict } from "min-mphash";

const lookupMap = {
  China: ["Beijing", "Shanghai", "Guangzhou"],
  USA: ["New York", "Los Angeles"],
  Japan: ["Tokyo"],
};

// ç”Ÿæˆå‹ç¼©åçš„äºŒè¿›åˆ¶å­—å…¸
const lookupDictBin = createMinMPLookupDict(lookupMap, {
  outputBinary: true,
  enableCompression: true, // å¯ç”¨å†…ç½® Gzip å‹ç¼© (ä»… Node/Bun ç¯å¢ƒæˆ–æ”¯æŒ CompressionStream çš„æµè§ˆå™¨)
  level: 7,
});

// ä¿å­˜åˆ°æ–‡ä»¶
// fs.writeFileSync("lookup.bin", lookupDictBin);
```

### æŸ¥è¯¢

```typescript
import { MinMPLookup } from "min-mphash";

// åŠ è½½å­—å…¸
const lookup = await MinMPLookup.fromCompressed(lookupDictBin);
// å¦‚æœæ²¡æœ‰å¼€å¯ enableCompressionï¼Œä½¿ç”¨ MinMPLookup.fromBinary(bin)

console.log(lookup.query("Shanghai")); // "China"
console.log(lookup.queryAll("New York")); // ["USA"]
console.log(lookup.query("Unknown City")); // null
console.log(lookup.keys()); // ["China", "USA", "Japan"]
```

### æ ¡éªŒæ¨¡å¼ (Validation Mode)

æ ‡å‡†çš„æœ€å°å®Œç¾å“ˆå¸Œå‡½æ•°å¯¹äº**ä¸åœ¨é›†åˆä¸­**çš„è¾“å…¥ï¼Œä¹Ÿä¼šè¿”å›ä¸€ä¸ªèŒƒå›´å†…çš„ç´¢å¼•ï¼ˆè¯¯æŠ¥ï¼‰ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ`MinMPHash` æ”¯æŒå†…ç½®æ ¡éªŒæŒ‡çº¹ã€‚

åœ¨åˆ›å»ºå­—å…¸æ—¶é€šè¿‡ `onlySet` é€‰é¡¹å¼€å¯ï¼š

```typescript
const dict = createMinMPHashDict(keys, {
  // ...
  // æ ¡éªŒå¼ºåº¦:
  // "none" - ä¸æ ¡éªŒ (ä½“ç§¯æœ€å°ï¼Œæœ‰è¯¯æŠ¥)
  // "4"    - 4-bit æŒ‡çº¹ (ä½“ç§¯å¢åŠ  0.5 byte/keyï¼Œè¯¯æŠ¥ç‡ ~1/16)
  // "8"    - 8-bit æŒ‡çº¹ (ä½“ç§¯å¢åŠ  1 byte/keyï¼Œè¯¯æŠ¥ç‡ ~1/256) [é»˜è®¤]
  // "16"   - 16-bit æŒ‡çº¹ (ä½“ç§¯å¢åŠ  2 bytes/keyï¼Œè¯¯æŠ¥ç‡ ~1/65536)
  // "32"   - 32-bit æŒ‡çº¹ (æä½è¯¯æŠ¥ç‡)
  onlySet: "8",
});
```

è¿è¡Œæ—¶ï¼š

```typescript
const mph = new MinMPHash(dict);

// å¦‚æœè¾“å…¥ä¸åœ¨åŸå§‹é›†åˆä¸­ï¼Œä¸”æ ¡éªŒå¤±è´¥ï¼Œè¿”å› -1
console.log(mph.hash("NotInSet")); // -1
```

## Beanchmark

### MinMPHash å­—å…¸ä½“ç§¯æµ‹è¯•ç»“æœ

```

=== MinMPHash Big Dataset Size Benchmark ===
Generating dataset of size 1000000...
Dataset size: 1000000 items

Dataset json size:        41836.25 KB
Dataset json gzip size:   6473.48 KB

â¤ Optimization Level 5
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ OnlySet  â”‚ JSON Size    â”‚ Binary Size (Ratio)  â”‚ Gzip Size (Ratio)    â”‚ vs None      â”‚ Build Time   â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ none     â”‚    979.18 KB â”‚  341.37 KB ( 35%)    â”‚  268.36 KB ( 27%)    â”‚      100.0 % â”‚   2502.35 ms â”‚
  â”‚ 2        â”‚   1849.51 KB â”‚  585.38 KB ( 32%)    â”‚  512.86 KB ( 28%)    â”‚      171.5 % â”‚   2981.46 ms â”‚
  â”‚ 4        â”‚   2721.75 KB â”‚  829.94 KB ( 30%)    â”‚  757.49 KB ( 28%)    â”‚      243.1 % â”‚   3109.38 ms â”‚
  â”‚ 8        â”‚   4465.27 KB â”‚ 1318.06 KB ( 30%)    â”‚ 1245.64 KB ( 28%)    â”‚      386.1 % â”‚   3132.11 ms â”‚
  â”‚ 16       â”‚   6672.22 KB â”‚ 2293.96 KB ( 34%)    â”‚ 2222.43 KB ( 33%)    â”‚      672.0 % â”‚   3559.02 ms â”‚
  â”‚ 32       â”‚  11468.63 KB â”‚ 4247.06 KB ( 37%)    â”‚ 4176.07 KB ( 36%)    â”‚     1244.1 % â”‚   2900.32 ms â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

### MinMPLookup å­—å…¸ä½“ç§¯æµ‹è¯•ç»“æœ

```

=== MinMPLookup Big Dataset Size Benchmark ===
Generating dataset of size 100000 values...
Dataset stats: 5000 keys, 100000 values

Dataset json size:        7577.04 KB
Dataset json gzip size:   5141.74 KB

â¤ Optimization Level 5
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ OnlySet  â”‚ JSON Size    â”‚ Binary Size (Ratio)  â”‚ Gzip Size (Ratio)    â”‚ vs None      â”‚ Build Time   â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ none     â”‚    709.67 KB â”‚  254.85 KB ( 36%)    â”‚  199.59 KB ( 28%)    â”‚      100.0 % â”‚    412.65 ms â”‚
  â”‚ 2        â”‚    797.00 KB â”‚  279.23 KB ( 35%)    â”‚  225.14 KB ( 28%)    â”‚      109.6 % â”‚    393.94 ms â”‚
  â”‚ 4        â”‚    884.32 KB â”‚  303.63 KB ( 34%)    â”‚  248.92 KB ( 28%)    â”‚      119.1 % â”‚    408.93 ms â”‚
  â”‚ 8        â”‚   1058.92 KB â”‚  352.48 KB ( 33%)    â”‚  297.58 KB ( 28%)    â”‚      138.3 % â”‚    477.32 ms â”‚
  â”‚ 16       â”‚   1406.98 KB â”‚  450.21 KB ( 32%)    â”‚  395.21 KB ( 28%)    â”‚      176.7 % â”‚    421.70 ms â”‚
  â”‚ 32       â”‚   2104.73 KB â”‚  645.45 KB ( 31%)    â”‚  591.02 KB ( 28%)    â”‚      253.3 % â”‚    374.06 ms â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
